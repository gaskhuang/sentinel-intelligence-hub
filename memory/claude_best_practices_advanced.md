# 🎯 Claude Code 最佳實踐 - 進階技巧筆記
## 來源：Anthropic 開發者社群 / Engineering Blogs
## 分析與整理：阿蓋小弟 🦞
## 日期：2026-02-06

---

## 🧠 核心心法：Plan Mode（計畫模式）

### 什麼是 Plan Mode？
**核心理念**：每個複雜任務都應該從「計畫模式」開始，而非直接執行。

### 最佳實踐流程

```
複雜任務
    ↓
【Plan Mode】規劃階段
    - 分析需求
    - 拆解步驟
    - 識別風險
    - 制定驗證方案
    ↓
【執行階段】一次性到位
    ↓
【驗證階段】必要時切回 Plan Mode
```

### 團隊實戰技巧

#### 技巧 1：雙 Claude 協作
- **Claude 1**：負責撰寫計畫
- **Claude 2**：以「Staff Engineer（幕僚工程師）」身分進行審查
- **效果**：互相驗證，提高品質

#### 技巧 2：不順就回頭
> 「一旦事情進展不順，立即切換回計畫模式重新規劃。不要硬推。」

**G大的應用**：
- 當客戶的 OpenClaw 設定遇到問題時，不要一直試錯
- 回到計畫模式，重新分析環境和需求
- 再給出新的解決方案

#### 技巧 3：驗證也要 Plan Mode
> 「明確要求 Claude 在執行驗證步驟時進入計畫模式，而不僅僅是在建置階段」

---

## 📝 投資於你的 CLAUDE.md

### 什麼是 CLAUDE.md？
**定義**：為 Claude 建立的規則文件，記錄專案相關的上下文、約定和教訓。

### 核心原則

#### 原則 1：持續迭代
> 「毫不留情地編輯你的 CLAUDE.md。持續迭代，直到 Claude 的錯誤率明顯下降。」

**更新時機**：
- 每次任務完成後
- 每次發現錯誤後
- 每次發現更好的做法後

#### 原則 2：標準結尾語句
> 「在每次修正後，以這句話結尾：『更新你的 CLAUDE.md，這樣你就不會再犯同樣的錯誤。』」

**Claude 非常擅長為自己編寫規則！**

#### 原則 3：筆記目錄系統
**進階做法**：
1. 為每個任務/專案維護一個筆記目錄
2. 每次 PR（Pull Request）後更新
3. 將 CLAUDE.md 指向該目錄

**檔案結構建議**：
```
project/
├── CLAUDE.md              # 主規則文件
├── notes/                 # 筆記目錄
│   ├── 2026-02-06_setup.md
│   ├── 2026-02-10_bug_fix.md
│   └── 2026-02-15_refactor.md
└── ...
```

### CLAUDE.md 模板（G大專用）

```markdown
# CLAUDE.md - [專案名稱]

## 專案概述
- 客戶：[客戶名稱/類型]
- 主要需求：[簡短描述]
- 環境：[Mac/Windows/Linux]
- 特殊要求：[如有]

## 已確認的設定
- [ ] OpenClaw 版本：___
- [ ] 模型配置：___
- [ ] 通道設定：___
- [ ] 技能安裝：___

## 遇到的問題與解決方案

### 問題 1：[簡短描述]
- **症狀**：___
- **原因**：___
- **解決**：___
- **預防**：___

## 客戶偏好
- 溝通方式：[Telegram/Email/其他]
- 技術程度：[初級/中級/高級]
- 特殊習慣：[如：喜歡詳細說明或簡短指令]

## 待辦事項
- [ ] ___
- [ ] ___

## 更新日誌
- 2026-02-06：初次建立
- 2026-02-07：___
```

---

## 🛠️ 建立你自己的 Skills（技能）

### 什麼是 Skills？
**定義**：可重複使用的指令、腳本或工作流程。

### 團隊經驗法則

#### 法則 1：重複就技能化
> 「如果你每天重複做某件事超過一次，請將其轉化為技能或指令。」

**G大的應用**：
- 安裝 OpenClaw → 做成 `install_openclaw_mac.sh`
- 配置 API Keys → 做成 `quick_api_setup.sh`
- 打包部署 → 做成 `openclaw_pack_deploy.sh`

#### 法則 2：提交到 Git
> 「建立你自己的技能並將其提交至 git。在每個專案中重複使用。」

**好處**：
- 版本控制
- 團隊共享
- 持續優化

### 推薦的 Skills 類型

#### Skill 1：/techdebt（技術債務掃描）
**用途**：每次工作結束時執行，找出並消除重複的程式碼

**實作概念**：
```bash
# techdebt.sh
# 掃描常見問題
# - 重複的程式碼區塊
# - 未使用的變數
# - 硬編碼的值
# - 缺少的錯誤處理
```

#### Skill 2：/sync（上下文同步）
**用途**：將 7 天內的 Slack、Google Drive、Asana 和 GitHub 內容同步到單一上下文彙整

**實作概念**：
```bash
# sync_context.sh
# 整合多個平台的資訊
# 生成每日/每週摘要
# 提供給 Claude 作為上下文
```

#### Skill 3：/dbt-analyst（分析工程師風格）
**用途**：專門負責 dbt 模型、審核程式碼、測試變更

**適合**：數據工程師、分析師

---

## 💡 G大的 OpenClaw 業務應用

### 立即可以做的

#### 1. 建立標準 CLAUDE.md 模板
為每個客戶建立 CLAUDE.md，記錄：
- 環境設定
- 遇到的問題
- 客戶偏好
- 特殊需求

**效果**：
- 客戶回頭詢問時，Claude 能立即想起上下文
- 建立長期信任關係

#### 2. 技能化常用操作
將以下操作做成 Skills：
- [x] Mac 安裝腳本
- [x] API Key 配置
- [x] 打包部署
- [ ] 常見錯誤診斷
- [ ] 性能優化檢查清單
- [ ] 安全設定驗證

#### 3. 建立 Plan Mode 工作流程
**客戶諮詢時的標準流程**：

```
客戶提出需求
    ↓
【Plan Mode】分析階段
    - 了解客戶環境
    - 識別潛在問題
    - 制定安裝計畫
    ↓
向客戶說明計畫
    ↓
【執行階段】開始安裝
    ↓
遇到問題
    ↓
【Plan Mode】重新規劃（不要硬推！）
    ↓
繼續執行
    ↓
完成後更新 CLAUDE.md
```

#### 4. 建立技能市場（未來）
可以將開發的技能打包銷售：
- 「電商自動化技能包」
- 「社群監控技能包」
- 「數據分析技能包」

---

## 🚀 進階：建立 AI 團隊

### 多代理協作模式

#### 模式 1：規劃-審查雙人組
- **Agent A（規劃師）**：負責撰寫計畫
- **Agent B（審查員）**：以 Staff Engineer 身分審查
- **Agent C（執行者）**：執行經過審查的計畫

#### 模式 2：專業分工
- **分析師 Agent**：負責需求分析
- **架構師 Agent**：負責技術設計
- **工程師 Agent**：負責程式碼實作
- **測試員 Agent**：負責驗證

### G大的應用場景

**大型企業專案時**：
- 使用多個 Claude Sub-agents
- 每個負責不同階段
- 最後由你（人類）把關

---

## 📚 學習資源

### 官方資源
- Anthropic Engineering Blog
- Claude Code 官方文件
- Anthropic Discord 社群

### 社群分享
- X (Twitter) 上搜尋 #ClaudeCode
- Reddit r/ClaudeAI
- GitHub 上的 Claude 專案

### G大可以分享的內容
- 「我如何用 Claude 建立 OpenClaw 技能庫」
- 「Plan Mode 在客戶服務中的應用」
- 「CLAUDE.md 讓我的服務更專業」

---

## 🎯 總結：三個核心行動

### 1. 現在就做
- [ ] 建立第一個 CLAUDE.md 模板
- [ ] 將現有腳本技能化
- [ ] 在下次客戶服務中使用 Plan Mode

### 2. 本週完成
- [ ] 建立技能 Git 儲存庫
- [ ] 整理常見問題成 Skills
- [ ] 撰寫一篇「Claude 最佳實踐」分享文

### 3. 長期目標
- [ ] 建立可銷售的技能包
- [ ] 發展多代理協作流程
- [ ] 成為 Claude 生態系的貢獻者

---

*記住：投資於 CLAUDE.md，就是投資於未來的效率。* 🚀🦞